<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <title>Landslide Dynamics Simulator</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
<div class="container">
    <h1>ğŸ”ï¸ Landslide Dynamics Simulator</h1>
    <p class="subtitle">Interactive infinite slope stability analysis with physics-based infiltration modeling, pore pressure dynamics, and probabilistic failure prediction using First-Order Second-Moment reliability theory.</p>
    
    <div class="layout">
        <!-- Controls Panel -->
        <div class="controls">
            <div class="control-group" style="border-bottom: 2px solid #e5e7eb; padding-bottom: 16px; margin-bottom: 16px;">
                <h3 style="margin-bottom: 12px;">ğŸ“š Information Panels</h3>
                <button class="educational-toggle" onclick="toggleEducational()">ğŸ“ STUDENT GUIDE</button>
                <button class="educational-toggle" onclick="toggleFormulas()" style="margin-top:8px">ğŸ“ FORMULAS & THEORY</button>
                <button class="educational-toggle" onclick="toggleSimInfo()" style="margin-top:8px">â„¹ï¸ SIMULATION INFO</button>
                <button class="educational-toggle" onclick="toggleGeoParams()" style="margin-top:8px">âš™ï¸ GEOTECHNICAL PARAMETERS</button>
            </div>
            
            <div class="control-group">
                <h3>ğŸŒ¿ Environmental Factors</h3>
                <label class="block">Vegetation Cover (%)</label>
                <div class="slider-container">
                    <input id="vegetation" type="range" min="0" max="100" step="5" value="50"/>
                </div>
                <div class="value-display">
                    <strong id="vegVal">50%</strong>
                    <span class="effect">Root cohesion: +<span id="vegEffect">1.5</span> kPa</span>
                </div>

                <label class="block" style="margin-top:12px">Soil Erosion Level (%)</label>
                <div class="slider-container">
                    <input id="erosion" type="range" min="0" max="100" step="5" value="20"/>
                </div>
                <div class="value-display">
                    <strong id="erosionVal">20%</strong>
                    <span class="effect">Cohesion loss: -<span id="erosionEffect">1.5</span> kPa</span>
                </div>

                <label class="block" style="margin-top:12px">Initial Soil Moisture (%)</label>
                <div class="slider-container">
                    <input id="soilMoisture" type="range" min="0" max="100" step="5" value="30"/>
                </div>
                <div class="value-display">
                    <strong id="moistureVal">30%</strong>
                    <span class="effect">Initial ráµ¤: <span id="moistureEffect">0.30</span></span>
                </div>

                <label class="block" style="margin-top:12px">Rainfall Intensity (mm/hr)</label>
                <div class="slider-container">
                    <input id="rainIntensity" type="range" min="0" max="100" step="5" value="10"/>
                </div>
                <div class="value-display">
                    <strong id="rainVal">10 mm/hr</strong>
                    <span class="effect">Infiltration rate</span>
                </div>
                <div class="time-display" id="timeDisplay">Elapsed: 0.0 min | Rain: 0.0 mm</div>
            </div>

            <div class="control-group">
                <h3>ğŸ“Š Reliability Analysis</h3>
                <label class="block">Coefficient of Variation (CoV)</label>
                <div class="slider-container">
                    <input id="fosSigma" type="range" min="0.05" max="0.40" step="0.01" value="0.15"/>
                </div>
                <div class="value-display">
                    <strong id="covVal">15%</strong>
                    <span class="effect">Parameter uncertainty</span>
                </div>
                <div class="info-box">
                    <strong>About CoV:</strong> Represents material variability and measurement uncertainty. Typical: Dense soil (10-15%), Loose soil (20-30%), Highly variable (30-40%)
                </div>
            </div>
            
            <div class="control-group">
                <h3>ğŸ® Simulation Controls</h3>
                <button id="rainBtn" class="btn-rain">ğŸŒ§ï¸ Start Rain</button>
                <button id="triggerBtn" class="btn-warning">âš ï¸ Force Landslide</button>
                <button id="resetBtn" class="btn-secondary">ğŸ”„ Reset Simulation</button>
                
                <div class="rain-status" id="rainStatus" style="display:none">
                    <strong>ğŸŒ§ï¸ Rain Active</strong><br>
                    Time: <span id="rainTime">0.0</span> min<br>
                    Infiltration: <span id="infiltStatus">â€”</span> mm<br>
                    ráµ¤ rate: <span id="ruRate">â€”</span>/hr
                </div>
            </div>
        </div>

        <!-- Canvas Area -->
        <div class="canvas-area">
            <div class="canvas-wrapper">
                <canvas id="mainCanvas" width="1000" height="480"></canvas>
            </div>
            
            <div class="canvas-zoom-controls">
                <div class="canvas-zoom-level" id="canvasZoomLevel">Zoom: 100%</div>
            </div>
            
            <div class="stats">
                <div class="stat">
                    <div class="label">Factor of Safety</div>
                    <div class="value" id="fosValue">â€”</div>
                    <div class="desc" id="fosStatus">Calculating...</div>
                    <button onclick="showCalcDetails('fos')" style="margin-top:8px;padding:4px 8px;font-size:11px;background:#3b82f6;color:#fff;border:none;border-radius:4px;cursor:pointer;">ğŸ“Š Show Calculation</button>
                </div>
                <div class="stat">
                    <div class="label">Failure Probability</div>
                    <div class="value" id="pofValue">â€”</div>
                    <div class="desc" id="pofStatus">Calculating...</div>
                    <button onclick="showCalcDetails('pof')" style="margin-top:8px;padding:4px 8px;font-size:11px;background:#dc2626;color:#fff;border:none;border-radius:4px;cursor:pointer;">ğŸ“Š Show Calculation</button>
                </div>
                <div class="stat">
                    <div class="label">Pore Pressure Ratio</div>
                    <div class="value" id="ruValue">â€”</div>
                    <div class="desc">ráµ¤ = u / (Î³wz)</div>
                    <button onclick="showCalcDetails('ru')" style="margin-top:8px;padding:4px 8px;font-size:11px;background:#06b6d4;color:#fff;border:none;border-radius:4px;cursor:pointer;">ğŸ“Š Show Calculation</button>
                </div>
                <div class="stat">
                    <div class="label">Effective Cohesion</div>
                    <div class="value" id="ceffValue">â€”</div>
                    <div class="desc">With vegetation & erosion</div>
                    <button onclick="showCalcDetails('ceff')" style="margin-top:8px;padding:4px 8px;font-size:11px;background:#10b981;color:#fff;border:none;border-radius:4px;cursor:pointer;">ğŸ“Š Show Calculation</button>
                </div>
                <div class="stat">
                    <div class="label">System Status</div>
                    <div class="value" id="systemStatus">ğŸŸ¢ Stable</div>
                    <div class="desc">Displaced: <strong id="fallenCount">0</strong> particles</div>
                </div>
            </div>

            <div class="chart-wrap">
                <div>
                    <canvas id="trendCanvas" width="920" height="180"></canvas>
                </div>
                <div class="legend">
                    <div class="legend-item">
                        <div class="legend-color" style="background:#2563eb"></div>
                        <span><strong>Factor of Safety</strong><br><small>Target: FoS â‰¥ 1.5</small></span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background:#dc2626"></div>
                        <span><strong>Failure Prob (%)</strong><br><small>Target: PoF &lt; 5%</small></span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background:#10b981"></div>
                        <span><strong>Threshold Line</strong><br><small>FoS = 1.0 (Limit)</small></span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Educational Guide Panel -->
<div class="educational-panel" id="educationalPanel">
    <div class="educational-header">
        <span>ğŸ“– How This Simulation Works</span>
        <button onclick="toggleEducational()" style="background:none;border:none;color:#fff;font-size:1.3rem;cursor:pointer;padding:0 5px">Ã—</button>
    </div>
    <div class="educational-content" id="educationalContent">
        <div class="edu-section">
            <h4>ğŸ¯ What is This Simulator?</h4>
            <p>This tool helps you understand <strong>landslides</strong> - when soil on a slope becomes unstable and slides downhill. You'll see how different factors like rain, vegetation, and soil properties affect slope stability.</p>
        </div>
        
        <div class="edu-section">
            <h4>ğŸŒ¿ Environmental Factors (What You Can Change)</h4>
            
            <div class="edu-item">
                <strong>ğŸŒ± Vegetation Cover</strong>
                <p>Plants and trees on the slope. Their roots hold soil together like natural anchors.</p>
                <ul>
                    <li><strong>High vegetation (70-100%):</strong> More stable - roots bind soil</li>
                    <li><strong>Low vegetation (0-30%):</strong> Less stable - soil easily moves</li>
                </ul>
            </div>

            <div class="edu-item">
                <strong>ğŸ”ï¸ Soil Erosion Level</strong>
                <p>How much the soil has been worn away by weather and time.</p>
                <ul>
                    <li><strong>Low erosion (0-20%):</strong> Soil is strong and cohesive</li>
                    <li><strong>High erosion (60-100%):</strong> Soil is weak and crumbly</li>
                </ul>
            </div>

            <div class="edu-item">
                <strong>ğŸ’§ Initial Soil Moisture</strong>
                <p>How wet the soil is before rain starts.</p>
                <ul>
                    <li><strong>Dry soil (0-30%):</strong> Can absorb more water initially</li>
                    <li><strong>Wet soil (60-100%):</strong> Already saturated, adds pressure quickly</li>
                </ul>
            </div>

            <div class="edu-item">
                <strong>ğŸŒ§ï¸ Rainfall Intensity</strong>
                <p>How hard it's raining (millimeters per hour).</p>
                <ul>
                    <li><strong>Light rain (0-20 mm/hr):</strong> Slow water infiltration</li>
                    <li><strong>Heavy rain (60-100 mm/hr):</strong> Fast saturation, higher risk</li>
                </ul>
            </div>
        </div>

        <div class="edu-section">
            <h4>ğŸ” What the Numbers Mean</h4>
            
            <div class="edu-item">
                <strong>ğŸ¯ Factor of Safety (FoS)</strong>
                <p>Think of this as a "strength score" - how much stronger the soil is than it needs to be.</p>
                <ul>
                    <li><strong>FoS â‰¥ 1.5:</strong> âœ… Safe - slope is stable</li>
                    <li><strong>FoS = 1.0-1.5:</strong> âš ï¸ Caution - getting risky</li>
                    <li><strong>FoS &lt; 1.0:</strong> âŒ Danger - landslide likely!</li>
                </ul>
            </div>

            <div class="edu-item">
                <strong>ğŸ“Š Probability of Failure (PoF)</strong>
                <p>The chance (in %) that a landslide will happen. Accounts for uncertainty in measurements.</p>
                <ul>
                    <li><strong>PoF &lt; 5%:</strong> Very low risk</li>
                    <li><strong>PoF = 20-50%:</strong> Moderate to high risk</li>
                    <li><strong>PoF &gt; 50%:</strong> Extreme risk - failure imminent</li>
                </ul>
            </div>

            <div class="edu-item">
                <strong>ğŸ’¦ Pore Pressure Ratio (ráµ¤)</strong>
                <p>Measures water pressure between soil particles. Higher water pressure = weaker soil.</p>
                <ul>
                    <li><strong>ráµ¤ = 0-0.3:</strong> Relatively dry, stable</li>
                    <li><strong>ráµ¤ = 0.5-0.7:</strong> Getting saturated, weakening</li>
                    <li><strong>ráµ¤ &gt; 0.8:</strong> Very wet, high failure risk</li>
                </ul>
            </div>
        </div>

        <div class="edu-section">
            <h4>ğŸ® How to Use the Simulator</h4>
            <ol class="edu-steps">
                <li><strong>Start with defaults:</strong> Click "ğŸ”„ Reset to Optimal" for safe starting conditions</li>
                <li><strong>Adjust one factor:</strong> Try increasing erosion or decreasing vegetation</li>
                <li><strong>Watch the numbers:</strong> See how FoS and PoF change in real-time</li>
                <li><strong>Start rain:</strong> Click "ğŸŒ§ï¸ Start Rain" and watch water infiltrate</li>
                <li><strong>Observe failure:</strong> When conditions are bad enough, landslide triggers automatically!</li>
                <li><strong>Experiment:</strong> Reset and try different combinations</li>
            </ol>
        </div>

        <div class="edu-section">
            <h4>ğŸ§ª Experiment Ideas</h4>
            <div class="edu-item">
                <strong>Experiment 1: Role of Vegetation</strong>
                <p>Set vegetation to 80%, start rain. Watch FoS. Reset, set vegetation to 10%, start rain. Compare how quickly FoS drops!</p>
            </div>
            <div class="edu-item">
                <strong>Experiment 2: Rainfall Effect</strong>
                <p>Start with defaults. Try light rain (10 mm/hr) vs heavy rain (80 mm/hr). Which triggers failure faster?</p>
            </div>
            <div class="edu-item">
                <strong>Experiment 3: Combined Factors</strong>
                <p>Create worst-case: high erosion (80%), low vegetation (10%), high moisture (70%), heavy rain (80%). How long until failure?</p>
            </div>
        </div>

        <div class="edu-section">
            <h4>â±ï¸ About Time Acceleration</h4>
            <p>Real landslides can take hours or days of rain. This simulator speeds up time by 300Ã— so you can see results in minutes instead of waiting hours! 1 second in the simulation = 5 minutes of real time.</p>
        </div>
    </div>
</div>

<!-- Formula Panel -->
<div class="educational-panel" id="formulaPanel">
    <div class="educational-header">
        <span>ğŸ“ Theory & Equations</span>
        <button onclick="toggleFormulas()" style="background:none;border:none;color:#fff;font-size:1.3rem;cursor:pointer;padding:0 5px">Ã—</button>
    </div>
    <div class="educational-content" id="formulaContent">
        <div class="edu-section">
            <h4>ğŸ¯ Factor of Safety (FoS)</h4>
            <div style="background:#1e293b;padding:12px;border-radius:6px;margin:8px 0;font-family:monospace;color:#e2e8f0">
                FoS = [c'â‚‘ff + (Î³z cosÂ²Î² - u)tan Ï†'â‚‘ff] / [Î³z sinÎ² cosÎ²]
            </div>
            <div class="edu-item">
                <strong>Where:</strong>
                <ul>
                    <li>c'â‚‘ff = effective cohesion (kPa)</li>
                    <li>Î³ = unit weight of soil (kN/mÂ³)</li>
                    <li>z = soil depth (m)</li>
                    <li>Î² = slope angle (degrees)</li>
                    <li>u = pore water pressure (kPa)</li>
                    <li>Ï†'â‚‘ff = effective friction angle (degrees)</li>
                </ul>
            </div>
        </div>
    
        <div class="edu-section">
            <h4>ğŸŒ¿ Vegetation Effect on Cohesion</h4>
            <div style="background:#1e293b;padding:12px;border-radius:6px;margin:8px 0;font-family:monospace;color:#e2e8f0">
                c'â‚‘ff = c'â‚€ Ã— (1 + 0.15V) Ã— (1 - 0.55E)
            </div>
            <div class="edu-item">
                <strong>Parameters:</strong>
                <ul>
                    <li>c'â‚€ = base cohesion</li>
                    <li>V = vegetation cover (0-1)</li>
                    <li>E = erosion level (0-1)</li>
                </ul>
                <p><strong>Effect:</strong> Vegetation adds root cohesion (~15% increase), erosion removes it (~55% loss)</p>
            </div>
        </div>
    
        <div class="edu-section">
            <h4>ğŸ’§ Pore Pressure Ratio (ráµ¤)</h4>
            <div style="background:#1e293b;padding:12px;border-radius:6px;margin:8px 0;font-family:monospace;color:#e2e8f0">
                ráµ¤(t) = ráµ¤â‚€ + [min(I,k)Â·t]/(nÂ·z) Â· f(k)
            </div>
            <div class="edu-item">
                <strong>Components:</strong>
                <ul>
                    <li>ráµ¤â‚€ = initial moisture (0-1)</li>
                    <li>I = rainfall intensity (mm/hr)</li>
                    <li>k = hydraulic conductivity (m/s)</li>
                    <li>n = porosity (~0.35)</li>
                    <li>f(k) = permeability factor</li>
                </ul>
                <p><strong>Note:</strong> Infiltration limited by min(rainfall, conductivity)</p>
            </div>
        </div>
    
        <div class="edu-section">
            <h4>ğŸ“Š Probability of Failure (PoF)</h4>
            <div style="background:#1e293b;padding:12px;border-radius:6px;margin:8px 0;font-family:monospace;color:#e2e8f0">
                PoF = Î¦[(1 - Î¼_FoS) / Ïƒ_FoS]<br>
                where Ïƒ_FoS = CoV Ã— Î¼_FoS
            </div>
            <div class="edu-item">
                <strong>FOSM Method:</strong>
                <ul>
                    <li>Î¦ = standard normal CDF</li>
                    <li>CoV = coefficient of variation</li>
                    <li>Î¼_FoS = mean factor of safety</li>
                </ul>
                <p><strong>Interpretation:</strong> Accounts for parameter uncertainty in soil properties</p>
            </div>
        </div>
    
        <div class="edu-section">
            <h4>âš–ï¸ Mohr-Coulomb Criterion</h4>
            <div style="background:#1e293b;padding:12px;border-radius:6px;margin:8px 0;font-family:monospace;color:#e2e8f0">
                Ï„f = c' + Ïƒ' Ã— tan(Ï†')
            </div>
            <div class="edu-item">
                <strong>Shear Strength:</strong>
                <ul>
                    <li>Ï„f = shear strength</li>
                    <li>Ïƒ' = effective normal stress</li>
                </ul>
                <p><strong>Failure occurs when driving stress exceeds shear strength</strong></p>
            </div>
        </div>
        
        <div class="edu-section">
            <h4>ğŸ”¬ Infinite Slope Assumptions</h4>
            <div class="edu-item">
                <p>The infinite slope model is valid when:</p>
                <ul>
                    <li>Slope length >> soil depth (L/z > 25)</li>
                    <li>Uniform soil properties throughout</li>
                    <li>Parallel failure surface to slope</li>
                    <li>Î² < Ï†' (slope angle less than friction angle)</li>
                    <li>Parallel seepage to slope surface</li>
                </ul>
            </div>
        </div>
    </div>
</div>

<!-- Simulation Info Panel -->
<div class="educational-panel" id="simInfoPanel">
    <div class="educational-header">
        <span>â„¹ï¸ Simulation Information</span>
        <button onclick="toggleSimInfo()" style="background:none;border:none;color:#fff;font-size:1.3rem;cursor:pointer;padding:0 5px">Ã—</button>
    </div>
    <div class="educational-content">
        <div class="edu-section">
            <h4>âš¡ Auto-Trigger System</h4>
            <div class="edu-item">
                <p>The simulation automatically initiates a landslide when critical conditions are met:</p>
                <ul>
                    <li><strong>Factor of Safety (FoS) &lt; 1.0:</strong> When the slope's resisting forces can no longer support the driving forces</li>
                    <li><strong>Probability of Failure (PoF) &gt; 50%:</strong> When there's more than a 50% chance of failure based on parameter uncertainties</li>
                </ul>
                <p><strong>Why this matters:</strong> Rain increases pore pressure based on infiltration physics, gradually reducing soil strength until failure occurs naturally - just like in real landslides!</p>
            </div>
        </div>

        <div class="edu-section">
            <h4>â±ï¸ Time Acceleration</h4>
            <div class="edu-item">
                <p><strong>Simulation Speed:</strong> 300Ã— acceleration (1 real second = 5 simulated minutes)</p>
                <p><strong>Why we accelerate time:</strong> Real landslides can take hours or days of continuous rainfall to develop. Without time acceleration, you'd need to watch the simulator for hours to see results!</p>
                <p><strong>Important note:</strong> This acceleration uses empirical calibration to demonstrate concepts. It's designed for understanding cause-and-effect relationships, not for making precise quantitative predictions about specific slopes.</p>
            </div>
        </div>

        <div class="edu-section">
            <h4>âš ï¸ Important Limitations</h4>
            <div class="edu-item">
                <p><strong>What this simulator simplifies:</strong></p>
                <ul>
                    <li><strong>Time acceleration:</strong> 300Ã— speed - use for conceptual understanding, not precise timing predictions</li>
                    <li><strong>Simplified infiltration:</strong> Doesn't use full Green-Ampt equations; assumes uniform wetting front progression</li>
                    <li><strong>Homogeneous soil:</strong> Real slopes have multiple layers with different properties; this assumes uniform soil</li>
                    <li><strong>2D analysis:</strong> Ignores 3D effects, lateral water flow, and out-of-plane forces</li>
                    <li><strong>FOSM simplification:</strong> Applies uncertainty (CoV) directly to FoS; true First-Order Second-Moment method propagates individual parameter uncertainties</li>
                    <li><strong>No progressive failure:</strong> Assumes simultaneous failure across the entire zone rather than gradual propagation</li>
                    <li><strong>Vegetation simplified:</strong> No time-dependent root decay, seasonal variations, or species-specific effects</li>
                    <li><strong>Valid only when:</strong> Slope angle Î² &lt; friction angle Ï†', slope length/depth ratio L/z &gt; 25, and parallel seepage assumption holds</li>
                </ul>
            </div>
        </div>

        <div class="edu-section">
            <h4>ğŸ“ Educational Purpose</h4>
            <div class="edu-item">
                <p>This simulator is designed as an <strong>educational tool</strong> to help students and learners understand:</p>
                <ul>
                    <li>How different factors interact to affect slope stability</li>
                    <li>The relationships between rainfall, pore pressure, and landslides</li>
                    <li>The concepts of Factor of Safety and probability-based risk assessment</li>
                    <li>Why vegetation and erosion control matter for slope stability</li>
                </ul>
                <p><strong>Not for:</strong> Real engineering design, quantitative hazard assessment, or site-specific predictions. Always consult qualified geotechnical engineers for actual slope stability projects.</p>
            </div>
        </div>
    </div>
</div>

<!-- Geotechnical Parameters Panel -->
<div class="educational-panel" id="geoParamsPanel">
    <div class="educational-header">
        <span>âš™ï¸ Geotechnical Parameters</span>
        <button onclick="toggleGeoParams()" style="background:none;border:none;color:#fff;font-size:1.3rem;cursor:pointer;padding:0 5px">Ã—</button>
    </div>
    <div class="educational-content">
        <div class="edu-section">
            <h4>ğŸ—ï¸ Soil and Slope Properties</h4>
            <p>These are advanced technical parameters that define the physical properties of the soil and slope geometry. Adjust these only if you understand geotechnical engineering concepts.</p>
        </div>

        <div class="edu-section">
            <div class="edu-item">
                <label class="block"><strong>Soil Depth z (m)</strong></label>
                <input id="soilDepth" type="number" min="0.5" max="10" step="0.1" value="3.0" style="width:100%;padding:8px;margin:8px 0;border:1px solid #d1d5db;border-radius:4px;"/>
                <p style="margin:4px 0;font-size:0.9em;color:#6b7280;">Thickness of the soil layer above bedrock or failure plane.</p>
            </div>

            <div class="edu-item">
                <label class="block"><strong>Unit Weight Î³ (kN/mÂ³)</strong></label>
                <input id="unitWeight" type="number" min="15" max="22" step="0.1" value="19.0" style="width:100%;padding:8px;margin:8px 0;border:1px solid #d1d5db;border-radius:4px;"/>
                <p style="margin:4px 0;font-size:0.9em;color:#6b7280;">Density of soil (typical: 18-20 kN/mÂ³). Heavier soils create more driving force.</p>
            </div>

            <div class="edu-item">
                <label class="block"><strong>Base Cohesion c' (kPa)</strong></label>
                <input id="cohesionGeo" type="number" min="0" max="50" step="1" value="15" style="width:100%;padding:8px;margin:8px 0;border:1px solid #d1d5db;border-radius:4px;"/>
                <p style="margin:4px 0;font-size:0.9em;color:#6b7280;">Internal strength from particle bonding (clay: 10-50 kPa, sand: 0-5 kPa).</p>
            </div>

            <div class="edu-item">
                <label class="block"><strong>Friction Angle Ï†' (Â°)</strong></label>
                <input id="phiGeo" type="number" min="15" max="45" step="0.5" value="32" style="width:100%;padding:8px;margin:8px 0;border:1px solid #d1d5db;border-radius:4px;"/>
                <p style="margin:4px 0;font-size:0.9em;color:#6b7280;">Angle of internal friction (sand: 30-40Â°, clay: 20-30Â°). Higher = more stable.</p>
            </div>

            <div class="edu-item">
                <label class="block"><strong>Slope Angle Î² (Â°)</strong></label>
                <input id="slopeAngle" type="number" min="5" max="60" step="1" value="30" style="width:100%;padding:8px;margin:8px 0;border:1px solid #d1d5db;border-radius:4px;"/>
                <p style="margin:4px 0;font-size:0.9em;color:#6b7280;">Steepness of slope. Higher angles = more unstable. Must be less than Ï†'.</p>
            </div>

            <div class="edu-item">
                <label class="block"><strong>Hydraulic Conductivity k (Ã—10â»â¶ m/s)</strong></label>
                <input id="hydCond" type="number" min="0.1" max="100" step="0.5" value="5.0" style="width:100%;padding:8px;margin:8px 0;border:1px solid #d1d5db;border-radius:4px;"/>
                <p style="margin:4px 0;font-size:0.9em;color:#6b7280;">How fast water flows through soil (clay: 0.001-1, sand: 10-1000).</p>
            </div>
        </div>

        <div class="edu-section">
            <h4>âš ï¸ Model Validity</h4>
            <div class="edu-item">
                <p><strong>The infinite slope model is valid when:</strong></p>
                <ul>
                    <li>Slope angle Î² &lt; Friction angle Ï†'</li>
                    <li>Slope length to depth ratio L/z &gt; 25</li>
                    <li>Uniform soil properties throughout</li>
                    <li>Parallel failure surface to slope</li>
                    <li>Parallel seepage assumption holds</li>
                </ul>
            </div>
        </div>
    </div>
</div>

<!-- Calculation Details Panel -->
<div class="educational-panel" id="calcDetailsPanel">
    <div class="educational-header">
        <span id="calcDetailsTitle">ğŸ“Š Calculation Details</span>
        <button onclick="toggleCalcDetails()" style="background:none;border:none;color:#fff;font-size:1.3rem;cursor:pointer;padding:0 5px">Ã—</button>
    </div>
    <div class="educational-content" id="calcDetailsContent">
        <!-- Content will be dynamically populated -->
    </div>
</div>

<div id="tooltip" class="tooltip"></div>

<script src="script.js"></script>
</body>
</html>